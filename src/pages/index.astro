---
import ProjectCard from "@/components/ProjectCard.astro";
import Layout from "../layouts/Layout.astro";
import { ModeToggle } from "@/components/ModeToggle";
import { projects } from "@/data/projects";

// Function to shuffle array
function shuffleArray(array: any) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

// Shuffle the projects array
const shuffledProjects = shuffleArray([...projects]);
---

<Layout title="Simple Projects">
  <h1 class="mt-10 text-center text-[clamp(2rem,10vmin,10rem)] leading-none">
    Vanilla Js Corner
  </h1>

  <!-- card -->
  <div
    class="mx-auto my-16 flex max-w-[90%] flex-wrap items-center justify-center gap-4 align-middle"
  >
    {
      shuffledProjects.map((project:any) => (
        <div class="w-full sm:w-1/2 md:w-1/3 lg:w-1/4">
          <ProjectCard project={project} />
        </div>
      ))
    }
  </div>

  <div class="fixed bottom-14 right-7 z-50">
    <ModeToggle client:load />
  </div>
</Layout>
